{"ast":null,"code":"import _regeneratorRuntime from\"/home/robin/code/ECOMMERCE PROJECT/Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/home/robin/code/ECOMMERCE PROJECT/Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/home/robin/code/ECOMMERCE PROJECT/Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/robin/code/ECOMMERCE PROJECT/Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Link,useLocation}from\"react-router-dom\";import{useState,useMemo,useEffect}from\"react\";import\"./product.css\";import Chart from\"../../components/chart/Chart\";import{Publish}from\"@material-ui/icons\";import{useSelector}from\"react-redux\";import{userRequest}from\"../../requestMethod\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Product(){var location=useLocation();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pStats=_useState2[0],setPStats=_useState2[1];var productId=location.pathname.split(\"/\")[2];var product=useSelector(function(state){return state.product.products.find(function(index){return index._id===productId;});});console.log(product);var MONTHS=useMemo(function(){return[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Agu\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];},[]);useEffect(function(){var getStats=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,list;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return userRequest.get(\"/orders/income/?pid\"+productId);case 2:res=_context.sent;list=res.data.sort(function(a,b){return a._id-b._id;});list.map(function(item){setPStats(function(prev){return[].concat(_toConsumableArray(prev),[{name:MONTHS[item._id-1],Sales:item.total}]);});});case 5:case\"end\":return _context.stop();}}},_callee);}));return function getStats(){return _ref.apply(this,arguments);};}();getStats();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"product\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"productTitleContainer\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"productTitle\",children:\"Product\"}),/*#__PURE__*/_jsx(Link,{to:\"/newproduct\",children:/*#__PURE__*/_jsx(\"button\",{className:\"productAddButton\",children:\"Create\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"productTop\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"productTopLeft\",children:/*#__PURE__*/_jsx(Chart,{data:pStats,dataKey:\"Sales\",title:\"Sales Performance\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"productTopRight\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"productInfoTop\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.img,alt:\"\",className:\"productInfoImg\"}),/*#__PURE__*/_jsx(\"span\",{className:\"productName\",children:product.title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"productInfoBottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"productInfoItem\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"productInfoKey\",children:\"id:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"productInfoValue\",children:product._id})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"productInfoItem\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"productInfoKey\",children:\"sales:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"productInfoValue\",children:\"5123\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"productInfoItem\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"productInfoKey\",children:\"in stock:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"productInfoValue\",children:product.inStock})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"productBottom\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"productForm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"productFormLeft\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:product.title}),/*#__PURE__*/_jsx(\"label\",{children:\"Product Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:product.desc}),/*#__PURE__*/_jsx(\"label\",{children:\"Price \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:product.price}),/*#__PURE__*/_jsx(\"label\",{children:\"In Stock\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"inStock\",id:\"idStock\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"Yes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"No\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"productFormRight\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"productUpload\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.img,alt:\"\",className:\"productUploadImg\"}),/*#__PURE__*/_jsx(\"label\",{for:\"file\",children:/*#__PURE__*/_jsx(Publish,{})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file\",style:{display:\"none\"}})]}),/*#__PURE__*/_jsx(\"button\",{className:\"productButton\",children:\"Update\"})]})]})})]});}","map":{"version":3,"sources":["/home/robin/code/ECOMMERCE PROJECT/Admin/src/pages/product/Product.jsx"],"names":["Link","useLocation","useState","useMemo","useEffect","Chart","Publish","useSelector","userRequest","Product","location","pStats","setPStats","productId","pathname","split","product","state","products","find","index","_id","console","log","MONTHS","getStats","get","res","list","data","sort","a","b","map","item","prev","name","Sales","total","img","title","inStock","desc","price","display"],"mappings":"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","sourcesContent":["import { Link,useLocation } from \"react-router-dom\";\nimport { useState ,useMemo,useEffect} from \"react\";\nimport \"./product.css\";\nimport Chart from \"../../components/chart/Chart\"\nimport { Publish } from \"@material-ui/icons\";\nimport { useSelector } from \"react-redux\";\nimport { userRequest } from \"../../requestMethod\";\n\nexport default function Product() {\n    const location = useLocation();\n    const [pStats,setPStats] =useState([]);\n    const productId = location.pathname.split(\"/\")[2];\n\n    const product = useSelector((state)=>state.product.products.find((index)=>index._id===productId));\n  console.log(product)\n\n  const MONTHS = useMemo(\n    () => [\n      \"Jan\",\n      \"Feb\",\n      \"Mar\",\n      \"Apr\",\n      \"May\",\n      \"Jun\",\n      \"Jul\",\n      \"Agu\",\n      \"Sep\",\n      \"Oct\",\n      \"Nov\",\n      \"Dec\",\n    ],\n    []\n  );\n  useEffect(()=>{\n    const getStats = async ()=>{\n     const res = await userRequest.get(\"/orders/income/?pid\"+productId);\n    const list = res.data.sort((a,b)=>{\n        return a._id-b._id\n    })\n    list.map((item)=>{\n        setPStats((prev)=>[\n            ...prev,{\n                name:MONTHS[item._id-1] ,\n                Sales:item.total\n            }\n        ])\n    })\n    }\n     getStats();\n    },[]);\n  return (\n    <div className=\"product\">\n      <div className=\"productTitleContainer\">\n        <h1 className=\"productTitle\">Product</h1>\n        <Link to=\"/newproduct\">\n          <button className=\"productAddButton\">Create</button>\n        </Link>\n      </div>\n      <div className=\"productTop\">\n          <div className=\"productTopLeft\">\n              <Chart data={pStats} dataKey=\"Sales\" title=\"Sales Performance\"/>\n          </div>\n          <div className=\"productTopRight\">\n              <div className=\"productInfoTop\">\n                  <img src={product.img} alt=\"\" className=\"productInfoImg\" />\n                  <span className=\"productName\">{product.title}</span>\n              </div>\n              <div className=\"productInfoBottom\">\n                  <div className=\"productInfoItem\">\n                      <span className=\"productInfoKey\">id:</span>\n                      <span className=\"productInfoValue\">{product._id}</span>\n                  </div>\n                  <div className=\"productInfoItem\">\n                      <span className=\"productInfoKey\">sales:</span>\n                      <span className=\"productInfoValue\">5123</span>\n                  </div>\n                 \n                  <div className=\"productInfoItem\">\n                      <span className=\"productInfoKey\">in stock:</span>\n                      <span className=\"productInfoValue\">{product.inStock}</span>\n                  </div>\n              </div>\n          </div>\n      </div>\n      <div className=\"productBottom\">\n          <form className=\"productForm\">\n              <div className=\"productFormLeft\">\n                  <label>Product Name</label>\n                  <input type=\"text\" placeholder={product.title} />\n                  <label>Product Description</label>\n                  <input type=\"text\" placeholder={product.desc} />\n                  <label>Price </label>\n                  <input type=\"text\" placeholder={product.price} />\n                  <label>In Stock</label>\n                  <select name=\"inStock\" id=\"idStock\">\n                      <option value=\"true\">Yes</option>\n                      <option value=\"false\">No</option>\n                  </select>\n                 \n              </div>\n              <div className=\"productFormRight\">\n                  <div className=\"productUpload\">\n                      <img src={product.img} alt=\"\" className=\"productUploadImg\" />\n                      <label for=\"file\">\n                          <Publish/>\n                      </label>\n                      <input type=\"file\" id=\"file\" style={{display:\"none\"}} />\n                  </div>\n                  <button className=\"productButton\">Update</button>\n              </div>\n          </form>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}